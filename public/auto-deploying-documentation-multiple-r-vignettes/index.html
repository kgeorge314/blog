<!DOCTYPE html>
<html lang="en-gb">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.30" />
    <title>Auto-deploying documentation: multiple R vignettes</title>
    
    
    
	  <meta property="og:title" content="Auto-deploying documentation: multiple R vignettes" />
<meta property="og:description" content="Following on from my post about the principles behind using travis-ci to commit to a gh-pages I wanted to follow-up with how I tackled my &#8220;intermediate&#8221; use case.



Posts in this series


Automated documentation hosting on github via Travis-CI
Auto-deploying documentation: multiple R vignettes
Auto-deploying documentation: FASTER!
Auto-deploying documentation: Rtraining
Auto-deploying documentation: better change tracking of artefacts




Multiple vignettes

In my original post I show how I pushed the tfsR vignette to gh-pages, which involved copying it and renaming it to index.html.

Unfortunately, this wouldn&#8217;t work if I had multiple vignettes that I wanted to be accessible online.

Requirements


An index.html file

A way of extracting any number of html files from the vignette folder

" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itsalocke.com/blog/auto-deploying-documentation-multiple-r-vignettes/" />



<meta property="article:published_time" content="2015-06-05T08:38:44&#43;00:00"/>

<meta property="article:modified_time" content="2015-06-05T08:38:44&#43;00:00"/>













<meta itemprop="name" content="Auto-deploying documentation: multiple R vignettes">
<meta itemprop="description" content="Following on from my post about the principles behind using travis-ci to commit to a gh-pages I wanted to follow-up with how I tackled my &#8220;intermediate&#8221; use case.



Posts in this series


Automated documentation hosting on github via Travis-CI
Auto-deploying documentation: multiple R vignettes
Auto-deploying documentation: FASTER!
Auto-deploying documentation: Rtraining
Auto-deploying documentation: better change tracking of artefacts




Multiple vignettes

In my original post I show how I pushed the tfsR vignette to gh-pages, which involved copying it and renaming it to index.html.

Unfortunately, this wouldn&#8217;t work if I had multiple vignettes that I wanted to be accessible online.

Requirements


An index.html file

A way of extracting any number of html files from the vignette folder

">


<meta itemprop="datePublished" content="2015-06-05T08:38:44&#43;00:00" />
<meta itemprop="dateModified" content="2015-06-05T08:38:44&#43;00:00" />
<meta itemprop="wordCount" content="393">



<meta itemprop="keywords" content="auto deploying r documentation,best practices,continuous integration,git,knitr,r,rmarkdown,software development in r,travis-ci," />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Auto-deploying documentation: multiple R vignettes"/>
<meta name="twitter:description" content="Following on from my post about the principles behind using travis-ci to commit to a gh-pages I wanted to follow-up with how I tackled my &#8220;intermediate&#8221; use case.



Posts in this series


Automated documentation hosting on github via Travis-CI
Auto-deploying documentation: multiple R vignettes
Auto-deploying documentation: FASTER!
Auto-deploying documentation: Rtraining
Auto-deploying documentation: better change tracking of artefacts




Multiple vignettes

In my original post I show how I pushed the tfsR vignette to gh-pages, which involved copying it and renaming it to index.html.

Unfortunately, this wouldn&#8217;t work if I had multiple vignettes that I wanted to be accessible online.

Requirements


An index.html file

A way of extracting any number of html files from the vignette folder

"/>
<meta name="twitter:site" content="@lockedata"/>

    <meta name="description" content="Locke Data helps organisations get started with data science. Grow your skills with our blog posts." />
    <meta name="keywords" content='auto deploying r documentation,best practices,continuous integration,git,knitr,r,rmarkdown,software development in r,travis-ci' />
    
        <meta name="author" content="Steph" />
    
    
	
    <link rel="stylesheet" href="https://itsalocke.com/blog/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://itsalocke.com/blog/css/highlightjs-themes/androidstudio.css" />
    <link rel="stylesheet" href="https://itsalocke.com/blog/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://itsalocke.com/blog/css/lockedata.css" />
    
        
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({
                    google_ad_client: "ca-pub-XXXXXX",
                    enable_page_level_ads: true
                });
            </script>
        
    
</head>

    <body>
        <!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">

    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand page-scroll" href="/blog/#page-top">
          
          <img src="https://itsalocke.com/blog/img/LockeDataTextNew.svg" class="img-responsive" alt="">
        </a>
      

    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li class="hidden">
          <a href="/blog/#page-top"></a>
        </li>
        
          <li>
            <a href="https://itsalocke.com">Locke Data</a>
          </li>
        
          <li>
            <a href="https://itsalocke.com/blog/">Blog</a>
          </li>
        

        
        
      </ul>
    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container-fluid -->
</nav>

        <div id="top" class="container">
            <div class="row" id="content-main">
                    <div class="row">
    <div class="col-md-12 content-card">
        <h1>Auto-deploying documentation: multiple R vignettes</h1>
        
            
            <ul class="list-inline meta">
                <li><i class="fa fa-calendar"></i>June 5, 2015</li>
                <li><i class="fa fa-user"></i>Steph</li>
                
                    
                    <li><i class="fa fa-folder"></i><a href="https://itsalocke.com/categories/data-science">Data Science</a>, <a href="https://itsalocke.com/categories/dataops">DataOps</a>, <a href="https://itsalocke.com/categories/r">R</a></li>
                
            </ul>
        
        
    <ul class="list-inline tags" style="margin-top: 15px; margin-left: 0px">
        
            <li style=""><a href="https://itsalocke.com/tags/auto-deploying-r-documentation">auto deploying r documentation</a></li>
        
            <li style=""><a href="https://itsalocke.com/tags/best-practices">best practices</a></li>
        
            <li style=""><a href="https://itsalocke.com/tags/continuous-integration">continuous integration</a></li>
        
            <li style=""><a href="https://itsalocke.com/tags/git">git</a></li>
        
            <li style=""><a href="https://itsalocke.com/tags/knitr">knitr</a></li>
        
            <li style=""><a href="https://itsalocke.com/tags/r">r</a></li>
        
            <li style=""><a href="https://itsalocke.com/tags/rmarkdown">rmarkdown</a></li>
        
            <li style=""><a href="https://itsalocke.com/tags/software-development-in-r">software development in r</a></li>
        
            <li style=""><a href="https://itsalocke.com/tags/travis-ci">travis-ci</a></li>
        
    </ul>


        <p>Following on from my post about the principles behind using travis-ci to commit to a <code>gh-pages</code> I wanted to follow-up with how I tackled my &#8220;intermediate&#8221; use case.</p>

<hr />

<h3 id="posts-in-this-series">Posts in this series</h3>

<ol>
<li><a href="https://itsalocke.com/automated-documentation-hosting-on-github-via-travis-ci/">Automated documentation hosting on github via Travis-CI</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-multiple-r-vignettes/">Auto-deploying documentation: multiple R vignettes</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-faster/">Auto-deploying documentation: FASTER!</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-rtraining/">Auto-deploying documentation: Rtraining</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-better-change-tracking-artefacts/">Auto-deploying documentation: better change tracking of artefacts</a></li>
</ol>

<hr />

<h2 id="multiple-vignettes">Multiple vignettes</h2>

<p>In <a href="https://itsalocke.com/automated-documentation-hosting-on-github-via-travis-ci/">my original post</a> I show how I pushed the tfsR vignette to <code>gh-pages</code>, which involved copying it and renaming it to index.html.</p>

<p>Unfortunately, this wouldn&#8217;t work if I had multiple vignettes that I wanted to be accessible online.</p>

<h3 id="requirements">Requirements</h3>

<ul>
<li>An index.html file</li>

<li><p>A way of extracting any number of html files from the vignette folder</p>

<p></p></li>
</ul>

<h3 id="index-html">index.html</h3>

<p>The easiest thing to do is create an index.Rmd vignette.</p>

<p>I used my README content inside mine since this should contain an overview of your package already. I then inserted relative URLs to other vignettes at sensible locations.</p>

<pre><code>See the vignette [Presentation components](presentation.html) for more info
</code></pre>

<p>If you wanted navigation from &#8220;sub-vignettes&#8221; you could simply point to the index.html file</p>

<h3 id="multiple-files">Multiple files</h3>

<p>The base code from <a href="http://rmflight.github.io/posts/2014/11/travis_ci_gh_pages.html">Robert</a>, that I utilised in my <a href="https://github.com/stephlocke/tfsR">tfsR project</a> had a hardcoded copy and rename of a single vignette to the index file. With multiple files it would soon become wearisome to hard code all the files in. For limited cognitive effort, I turned the copy statement into a loop based on the loop Robert uses for unzipping the package.</p>

<p>The loop is restricted to the docs folder and any html files within it. The simple loop is the primary reason for having an index.Rmd file, as that file ensures there is a destination for landing on <a href="http://stephlocke.github.io/optiRum">stephlocke.github.io/optiRum</a></p>

<pre><code>[embedGitHubContent owner=&quot;stephlocke&quot; repo=&quot;optiRum&quot; path=&quot;.push_gh_pages.sh&quot;]
</code></pre>

<h3 id="putting-it-all-together">Putting it all together</h3>

<p>When this push file and vignettes get committed and pushed to Travis, the build process will loop through all the generated vignettes (after the package successfully builds) and pushes them into the <code>gh-pages</code> branch. This in turn presents the documentation on the <code>https://[CONTAINER].github.io/[REPO]</code> URL.</p>

<p>For optiRum this would be: <a href="http://stephlocke.github.io/optiRum/">stephlocke.github.io/optiRum/</a></p>

<figure id="attachment_61364" style="width: 300px" class="wp-caption alignnone">[<img src="../img/2015-06-05-09_33_06-stephlocke_optiRum-Travis-CI_rmnpmy.png" alt="Travis-CI build & autodeploy" width="300" height="86" class="size-medium wp-image-61364" />][10]<figcaption class="wp-caption-text">Travis-CI build & autodeploy</figcaption></figure>

<h2 id="where-next">Where next?</h2>

<p>My &#8220;advanced&#8221; use case is publishing a lot of files both standalone and compiled. These aren&#8217;t currently stored as vignettes so it&#8217;s going to be interesting to tackle this, but will form a useful basis for anyone who wants to build a webpage from some analysis they&#8217;ve written in R.</p>
		</div>
		
</div>
    <div class="row">
    <div class="col-md-12 card">
        <h5>Search</h5>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
            <div class="input-group">
                <input class="form-control" type="search" name="q" />
                <span class="input-group-btn">
                    <button class="btn btn-primary" type="submit"><span class="glyphicon glyphicon-search"></span></button>
                </span>
            </div>
            <input type="hidden" name="q" value="site:https://itsalocke.com/blog/">
        </form>
    </div>
</div>

<div class="row">
		  <div class="col-md-12 content-card">
        
    <ul class="list-inline share" style="margin-top: 15px; margin-left: 0px">
        <li class="facebook-share"><a target="_blank" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fitsalocke.com%2fblog%2fauto-deploying-documentation-multiple-r-vignettes%2f"><i class="fa fa-facebook fa-lg"></i>Facebook</a></li>
        <li class="googleplus-share"><a target="_blank" href="https://plus.google.com/share?url=https%3a%2f%2fitsalocke.com%2fblog%2fauto-deploying-documentation-multiple-r-vignettes%2f"><i class="fa fa-google-plus fa-lg"></i>Google+</a></li>
        <li class="twitter-share"><a target="_blank" href="https://twitter.com/share?url=https%3a%2f%2fitsalocke.com%2fblog%2fauto-deploying-documentation-multiple-r-vignettes%2f&amp;text=Auto-deploying%20documentation%3a%20multiple%20R%20vignettes"><i class="fa fa-twitter fa-lg"></i>Twitter</a></li>
        <li class="reddit-share"><a target="_blank" href="http://reddit.com/submit?url=https%3a%2f%2fitsalocke.com%2fblog%2fauto-deploying-documentation-multiple-r-vignettes%2f&amp;title=Auto-deploying%20documentation%3a%20multiple%20R%20vignettes"><i class="fa fa-reddit fa-lg"></i>Reddit</a></li>
        <li class="linkedin-share"><a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fitsalocke.com%2fblog%2fauto-deploying-documentation-multiple-r-vignettes%2f"><i class="fa fa-linkedin fa-lg"></i>LinkedIn</a></li>
        <li class="stumbleupon-share"><a target="_blank" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fitsalocke.com%2fblog%2fauto-deploying-documentation-multiple-r-vignettes%2f&amp;title=Auto-deploying%20documentation%3a%20multiple%20R%20vignettes"><i class="fa fa-stumbleupon fa-lg"></i>StumbleUpon</a></li>
    </ul>


    </div>
	</div>

                    
    
        <div class="row">
            <div class="col-md-12 content-card">
                <div id="disqus_thread"></div>
                <script>
                    (function() {
                        if (window.location.hostname == "localhost") {
                            document.write("Disqus comments are unavailable while serving on localhost or 127.0.0.1");
                            return;
                        }
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        var disqus_shortname = 'itsalocke';
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            </div>
        </div>
    


            </div>
        </div>
        <!-- Footer section -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <span class="copyright">
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
        </span>
      </div>
      <div class="col-md-4">
        <ul class="list-inline social-buttons">
          
            <li>
              <a href="https://twitter.com/lockedata"><i class='fa fa-twitter'></i></a>
            </li>
          
            <li>
              <a href="https://facebook.com/lockedata"><i class='fa fa-facebook'></i></a>
            </li>
          
            <li>
              <a href="https://linkedin.com/company/locke-data"><i class='fa fa-linkedin'></i></a>
            </li>
          
            <li>
              <a href="https://github.com/lockedata"><i class='fa fa-github'></i></a>
            </li>
          
        </ul>
      </div>
      <div class="col-md-4">
        <ul class="list-inline quicklinks">
          
            <li>
              <a href="/blog/index.xml">RSS</a>
            </li>
          
            <li>
              <a href="https://itsalocke.com/company/policies">Legalese and stuff</a>
            </li>
          
            <li>
              <a href="https://goo.gl/forms/KQiYR201Fcn4k9Zh2">Bug Bounty</a>
            </li>
          
        </ul>
      </div>
    </div>
  </div>
</footer>

        <div id="back-to-top" class="hidden">
    <a href="#top" class="well well-sm" onclick="$('html,body').animate({scrollTop:0},'slow');return false;">
        <i class="glyphicon glyphicon-chevron-up"></i> Back to Top
    </a>
</div>
<script src="https://itsalocke.com/blog/js/jquery.min.js"></script>
<script src="https://itsalocke.com/blog/js/bootstrap.min.js"></script>
<script src="https://itsalocke.com/blog/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
    if(($(window).height() + 100) < $(document).height()) {
        $('#back-to-top').removeClass('hidden').affix({
            offset: {
                top: 100
            }
        });
    }
</script>

    
        <script>
            
            [].forEach.call(document.querySelectorAll('.adsbygoogle'), function() {
                (adsbygoogle = window.adsbygoogle || []).push({});
            });
        </script>
    


    
 
 
 <script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-58415537-1', 'auto');


ga('require', 'eventTracker');
ga('require', 'outboundLinkTracker');
ga('require', 'urlChangeTracker');
ga('require', 'cleanUrlTracker');
ga('require', 'impressionTracker');
ga('require', 'maxScrollTracker');
ga('require', 'pageVisibilityTracker');


ga('send', 'pageview');
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<script async src="js/autotrack.js"></script>




    </body>
</html>
