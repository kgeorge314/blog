<!DOCTYPE html>
<html lang="en-gb">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.31.1" />
    <title>Installing SQL Server ODBC drivers on Ubuntu 15.04</title>
    
    
    
	  <meta property="og:title" content="Installing SQL Server ODBC drivers on Ubuntu 15.04" />
<meta property="og:description" content="UPDATE 2016-10-21 : You can now get the ODBC 13 driver for Linux with a much smoother install process than below. Get all the relevant information on the announcement from the Microsoft SQLNCli team blog.

Did you know you can now get SQL Server ODBC drivers for Ubuntu? Yes, no, maybe? It&#8217;s ok even if you haven&#8217;t since it&#8217;s pretty new! Anyway, this presents me with an ideal opportunity to standardise my SQL Server ODBC connections across the operating systems I use R on i.e. Windows and Ubuntu. My first trial was to get it working on Travis-CI since that&#8217;s where all my training magic happens and if it can&#8217;t work on a clean build like Travis, then where can it work? Alas, the ODBC 13 driver doesn&#8217;t work Ubuntu 14.04 so this set of instructions has been modified to provide code for Ubuntu 15.04 only.

TL;DR

It works, but it&#8217;s really hacky right now. Definitely looking forward to the next iterations of this driver.

Disclaimer


This will work for Ubuntu 15.04 but 14.04 has a different set of C compilers
This is currently hacky, and Microsoft are on the case for improving it so this post could quickly become out of date.
Be very careful installing the driver on an existing machine. Due to the overwriting of unixODBC if already installed and potential compatibility issues with other driver managers you may have installed.


" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://itsalocke.com/blog/installing-sql-server-odbc-drivers-on-ubuntu-15.04/" />



<meta property="article:published_time" content="2016-04-20T14:13:28&#43;00:00"/>

<meta property="article:modified_time" content="2016-04-20T14:13:28&#43;00:00"/>













<meta itemprop="name" content="Installing SQL Server ODBC drivers on Ubuntu 15.04">
<meta itemprop="description" content="UPDATE 2016-10-21 : You can now get the ODBC 13 driver for Linux with a much smoother install process than below. Get all the relevant information on the announcement from the Microsoft SQLNCli team blog.

Did you know you can now get SQL Server ODBC drivers for Ubuntu? Yes, no, maybe? It&#8217;s ok even if you haven&#8217;t since it&#8217;s pretty new! Anyway, this presents me with an ideal opportunity to standardise my SQL Server ODBC connections across the operating systems I use R on i.e. Windows and Ubuntu. My first trial was to get it working on Travis-CI since that&#8217;s where all my training magic happens and if it can&#8217;t work on a clean build like Travis, then where can it work? Alas, the ODBC 13 driver doesn&#8217;t work Ubuntu 14.04 so this set of instructions has been modified to provide code for Ubuntu 15.04 only.

TL;DR

It works, but it&#8217;s really hacky right now. Definitely looking forward to the next iterations of this driver.

Disclaimer


This will work for Ubuntu 15.04 but 14.04 has a different set of C compilers
This is currently hacky, and Microsoft are on the case for improving it so this post could quickly become out of date.
Be very careful installing the driver on an existing machine. Due to the overwriting of unixODBC if already installed and potential compatibility issues with other driver managers you may have installed.


">


<meta itemprop="datePublished" content="2016-04-20T14:13:28&#43;00:00" />
<meta itemprop="dateModified" content="2016-04-20T14:13:28&#43;00:00" />
<meta itemprop="wordCount" content="705">



<meta itemprop="keywords" content="azure,mssql,odbc,sql server," />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Installing SQL Server ODBC drivers on Ubuntu 15.04"/>
<meta name="twitter:description" content="UPDATE 2016-10-21 : You can now get the ODBC 13 driver for Linux with a much smoother install process than below. Get all the relevant information on the announcement from the Microsoft SQLNCli team blog.

Did you know you can now get SQL Server ODBC drivers for Ubuntu? Yes, no, maybe? It&#8217;s ok even if you haven&#8217;t since it&#8217;s pretty new! Anyway, this presents me with an ideal opportunity to standardise my SQL Server ODBC connections across the operating systems I use R on i.e. Windows and Ubuntu. My first trial was to get it working on Travis-CI since that&#8217;s where all my training magic happens and if it can&#8217;t work on a clean build like Travis, then where can it work? Alas, the ODBC 13 driver doesn&#8217;t work Ubuntu 14.04 so this set of instructions has been modified to provide code for Ubuntu 15.04 only.

TL;DR

It works, but it&#8217;s really hacky right now. Definitely looking forward to the next iterations of this driver.

Disclaimer


This will work for Ubuntu 15.04 but 14.04 has a different set of C compilers
This is currently hacky, and Microsoft are on the case for improving it so this post could quickly become out of date.
Be very careful installing the driver on an existing machine. Due to the overwriting of unixODBC if already installed and potential compatibility issues with other driver managers you may have installed.


"/>
<meta name="twitter:site" content="@lockedata"/>

    <meta name="description" content="Locke Data helps organisations get started with data science. Grow your skills with our blog posts." />
    <meta name="keywords" content='azure,mssql,odbc,sql server' />
    
        <meta name="author" content="Steph" />
    
    
	
    <link rel="stylesheet" href="https://itsalocke.com/blog/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://itsalocke.com/blog/css/highlightjs-themes/androidstudio.css" />
    <link rel="stylesheet" href="https://itsalocke.com/blog/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://itsalocke.com/blog/css/lockedata.css" />
    
        
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({
                    google_ad_client: "ca-pub-XXXXXX",
                    enable_page_level_ads: true
                });
            </script>
        
    
</head>

    <body>
        <!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">

    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand page-scroll" href="/blog/#page-top">
          
          <img src="https://itsalocke.com/blog/img/LockeDataTextNew.svg" class="img-responsive" alt="">
        </a>
      

    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li class="hidden">
          <a href="/blog/#page-top"></a>
        </li>
        
          <li>
            <a href="https://itsalocke.com">Locke Data</a>
          </li>
        
          <li>
            <a href="https://itsalocke.com/blog/">Blog</a>
          </li>
        

        
        
      </ul>
    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container-fluid -->
</nav>

        <div id="top" class="container">
            <div class="row" id="content-main">
                    <div class="row">
    <div class="col-md-12 content-card">
        <h1>Installing SQL Server ODBC drivers on Ubuntu 15.04</h1>
        
            
            <ul class="list-inline meta">
                <li><i class="fa fa-calendar"></i>April 20, 2016</li>
                <li><i class="fa fa-user"></i>Steph</li>
                
                    
                    <li><i class="fa fa-folder"></i><a href="https://itsalocke.com/categories/dataops">DataOps</a>, <a href="https://itsalocke.com/categories/microsoft-data-platform">Microsoft Data Platform</a></li>
                
            </ul>
        
        
    <ul class="list-inline tags" style="margin-top: 15px; margin-left: 0px">
        
            <li style=""><a href="https://itsalocke.com/tags/azure">azure</a></li>
        
            <li style=""><a href="https://itsalocke.com/tags/mssql">mssql</a></li>
        
            <li style=""><a href="https://itsalocke.com/tags/odbc">odbc</a></li>
        
            <li style=""><a href="https://itsalocke.com/tags/sql-server">sql server</a></li>
        
    </ul>


        <p><strong>UPDATE 2016-10-21 : You can now get the ODBC 13 driver for Linux with a much smoother install process than below. Get all the relevant information on <a href="https://blogs.msdn.microsoft.com/sqlnativeclient/2016/10/20/odbc-driver-13-0-for-linux-released/">the announcement from the Microsoft SQLNCli team blog</a>.</strong></p>

<p>Did you know you can now get <a href="https://www.microsoft.com/en-gb/server-cloud/sql-server-on-linux.aspx">SQL Server ODBC drivers for Ubuntu</a>? Yes, no, maybe? It&#8217;s ok even if you haven&#8217;t since it&#8217;s pretty new! Anyway, this presents me with an ideal opportunity to standardise my SQL Server ODBC connections across the operating systems I use R on i.e. Windows and Ubuntu. My first trial was to get it working on <a href="https://travis-ci.org">Travis-CI</a> since that&#8217;s where all my training magic happens and if it can&#8217;t work on a clean build like Travis, then where can it work? Alas, the ODBC 13 driver doesn&#8217;t work Ubuntu 14.04 so this set of instructions has been modified to provide code for Ubuntu 15.04 only.</p>

<h2 id="tl-dr">TL;DR</h2>

<p>It works, but it&#8217;s really hacky right now. Definitely looking forward to the next iterations of this driver.</p>

<h2 id="disclaimer">Disclaimer</h2>

<ul>
<li>This will work for Ubuntu 15.04 but 14.04 has a different set of C compilers</li>
<li>This is currently hacky, and Microsoft are on the case for improving it so this post could quickly become out of date.</li>
<li>Be very careful installing the driver on an existing machine. Due to the overwriting of unixODBC if already installed and potential compatibility issues with other driver managers you may have installed.</li>
</ul>

<p></p>

<h2 id="line-by-line">Line by line</h2>

<pre><code>wget https://download.microsoft.com/download/2/E/5/2E58F097-805C-4AB8-9FC6-71288AB4409D/msodbcsql-13.0.0.0.tar.gz -P ..
</code></pre>

<p>Download the compressed file containing all the relevant stuff. This URL is important &#8211; the website does not provide a URL like this and this one is likely to be unstable. Microsoft are aware of this as a problem for users who like to script everything and will hopefully be addressing it in the short to medium term.</p>

<p>The <code>-P ..</code> tells the <code>wget</code> command to dump the file in the parent directory so that it won&#8217;t set off warnings when I build my R package.</p>

<pre><code>tar xvzf ../msodbcsql-13.0.0.0.tar.gz -C ..
</code></pre>

<p>This little line unzips the file we just downloaded to the parent directory.</p>

<pre><code>sed -i '14d' ../msodbcsql-13.0.0.0/build_dm.sh
sed -i '/tmp=/c\tmp=/tmp/odbcbuilds' ../msodbcsql-13.0.0.0/build_dm.sh
</code></pre>

<p>Unfortunately the default script that should be executed next generates a random directory for the unixODBC driver manager. The random directory is present in the output text and not easy to pipe into the next command. Consequently, with much help from <a href="https://www.linkedin.com/in/vinson-yu-91475339">Vin from MSFT</a> we have this current hack to change the directory to a fixed directory.</p>

<pre><code>../msodbcsql-13.0.0.0/build_dm.sh --accept-warning
</code></pre>

<p>This line runs a shell script that <strong>builds</strong> the unixODBC driver manager. Note &#8211; you can&#8217;t rely on the unixODBC driver available via apt-get at this time due to the SQL Server ODBC driver not being compatible (currently) with the latest versions. Also, it wasn&#8217;t noted in the manual but I had to add the <code>--accept-warning</code> to suppress some sort of notification that wanted to be triggered. I suspect I just sold my soul and that I&#8217;m encouraging you to do the same.</p>

<pre><code>cd /tmp/odbcbuilds/unixODBC-2.3.1
sudo make install
</code></pre>

<p>These lines shunts us over to the directory for the unixODBC build and installs it. The <code>sudo</code> is necessary for the installation to the <code>usr/</code> directory.</p>

<pre><code>cd ~
</code></pre>

<p>This gets you back to the your starting package directory for continuing on to package install.</p>

<pre><code>sudo apt-get install libgss3 -y
</code></pre>

<p>This dependency was needed by the ODBC driver</p>

<pre><code>../msodbcsql-13.0.0.0/install.sh verify
</code></pre>

<p>Verify the driver can be installed. This line wasn&#8217;t so great since it doesn&#8217;t check for a bug/feature &#8211; that you&#8217;re in the right directory &#8211; otherwise, a series of file copies in the install process won&#8217;t work.</p>

<pre><code>cd ../msodbcsql-13.0.0.0/
sudo ./install.sh install --accept-license
</code></pre>

<p>Proceed to install the driver in the right directory</p>

<pre><code>odbcinst -q -d -n &quot;ODBC Driver 13 for SQL Server&quot;
</code></pre>

<p>Test the driver is usable</p>

<h2 id="the-final-file">The final file</h2>

<pre><code>wget https://download.microsoft.com/download/2/E/5/2E58F097-805C-4AB8-9FC6-71288AB4409D/msodbcsql-13.0.0.0.tar.gz -P ..
tar xvzf ../msodbcsql-13.0.0.0.tar.gz -C ..
sed -i '14d' ../msodbcsql-13.0.0.0/build_dm.sh
sed -i '/tmp=/ctmp=/tmp/odbcbuilds' ../msodbcsql-13.0.0.0/build_dm.sh
../msodbcsql-13.0.0.0/build_dm.sh --accept-warning
cd /tmp/odbcbuilds/unixODBC-2.3.1
sudo make install
cd ~
sudo apt-get install libgss3 -y
../msodbcsql-13.0.0.0/install.sh verify
cd ../msodbcsql-13.0.0.0/
sudo ./install.sh install --accept-license
odbcinst -q -d -n &quot;ODBC Driver 13 for SQL Server&quot;
</code></pre>

<h2 id="the-manuals-for-reading">The manuals (for reading)</h2>

<ul>
<li><a href="https://msdn.microsoft.com/en-us/library/hh568451(v=sql.110).aspx">Microsoft ODBC Driver for SQL Server on Linux</a></li>
<li><a href="https://msdn.microsoft.com/en-us/library/hh568449(v=sql.110).aspx">Installing the Driver Manager</a></li>
<li><a href="https://msdn.microsoft.com/en-us/library/hh568454(v=sql.110).aspx">Installing the Microsoft ODBC Driver for SQL Server on Linux</a></li>
</ul>
		</div>
		
</div>
    <div class="row">
    <div class="col-md-12 card">
        <h5>Search</h5>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
            <div class="input-group">
                <input class="form-control" type="search" name="q" />
                <span class="input-group-btn">
                    <button class="btn btn-primary" type="submit"><span class="glyphicon glyphicon-search"></span></button>
                </span>
            </div>
            <input type="hidden" name="q" value="site:https://itsalocke.com/blog/">
        </form>
    </div>
</div>

<div class="row">
		  <div class="col-md-12 content-card">
        
    <ul class="list-inline share" style="margin-top: 15px; margin-left: 0px">
        <li class="facebook-share"><a target="_blank" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fitsalocke.com%2fblog%2finstalling-sql-server-odbc-drivers-on-ubuntu-15.04%2f"><i class="fa fa-facebook fa-lg"></i>Facebook</a></li>
        <li class="googleplus-share"><a target="_blank" href="https://plus.google.com/share?url=https%3a%2f%2fitsalocke.com%2fblog%2finstalling-sql-server-odbc-drivers-on-ubuntu-15.04%2f"><i class="fa fa-google-plus fa-lg"></i>Google+</a></li>
        <li class="twitter-share"><a target="_blank" href="https://twitter.com/share?url=https%3a%2f%2fitsalocke.com%2fblog%2finstalling-sql-server-odbc-drivers-on-ubuntu-15.04%2f&amp;text=Installing%20SQL%20Server%20ODBC%20drivers%20on%20Ubuntu%2015.04"><i class="fa fa-twitter fa-lg"></i>Twitter</a></li>
        <li class="reddit-share"><a target="_blank" href="http://reddit.com/submit?url=https%3a%2f%2fitsalocke.com%2fblog%2finstalling-sql-server-odbc-drivers-on-ubuntu-15.04%2f&amp;title=Installing%20SQL%20Server%20ODBC%20drivers%20on%20Ubuntu%2015.04"><i class="fa fa-reddit fa-lg"></i>Reddit</a></li>
        <li class="linkedin-share"><a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fitsalocke.com%2fblog%2finstalling-sql-server-odbc-drivers-on-ubuntu-15.04%2f"><i class="fa fa-linkedin fa-lg"></i>LinkedIn</a></li>
        <li class="stumbleupon-share"><a target="_blank" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fitsalocke.com%2fblog%2finstalling-sql-server-odbc-drivers-on-ubuntu-15.04%2f&amp;title=Installing%20SQL%20Server%20ODBC%20drivers%20on%20Ubuntu%2015.04"><i class="fa fa-stumbleupon fa-lg"></i>StumbleUpon</a></li>
    </ul>


    </div>
	</div>

                    
    
        <div class="row">
            <div class="col-md-12 content-card">
                <div id="disqus_thread"></div>
                <script>
                    (function() {
                        if (window.location.hostname == "localhost") {
                            document.write("Disqus comments are unavailable while serving on localhost or 127.0.0.1");
                            return;
                        }
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        var disqus_shortname = 'itsalocke';
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            </div>
        </div>
    


            </div>
        </div>
        <!-- Footer section -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <span class="copyright">
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
        </span>
      </div>
      <div class="col-md-4">
        <ul class="list-inline social-buttons">
          
            <li>
              <a href="https://twitter.com/lockedata"><i class='fa fa-twitter'></i></a>
            </li>
          
            <li>
              <a href="https://facebook.com/lockedata"><i class='fa fa-facebook'></i></a>
            </li>
          
            <li>
              <a href="https://linkedin.com/company/locke-data"><i class='fa fa-linkedin'></i></a>
            </li>
          
            <li>
              <a href="https://github.com/lockedata"><i class='fa fa-github'></i></a>
            </li>
          
        </ul>
      </div>
      <div class="col-md-4">
        <ul class="list-inline quicklinks">
          
            <li>
              <a href="/blog/index.xml">RSS</a>
            </li>
          
            <li>
              <a href="https://itsalocke.com/company/policies">Legalese and stuff</a>
            </li>
          
            <li>
              <a href="https://goo.gl/forms/KQiYR201Fcn4k9Zh2">Bug Bounty</a>
            </li>
          
        </ul>
      </div>
    </div>
  </div>
</footer>

        <div id="back-to-top" class="hidden">
    <a href="#top" class="well well-sm" onclick="$('html,body').animate({scrollTop:0},'slow');return false;">
        <i class="glyphicon glyphicon-chevron-up"></i> Back to Top
    </a>
</div>
<script src="https://itsalocke.com/blog/js/jquery.min.js"></script>
<script src="https://itsalocke.com/blog/js/bootstrap.min.js"></script>
<script src="https://itsalocke.com/blog/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
    if(($(window).height() + 100) < $(document).height()) {
        $('#back-to-top').removeClass('hidden').affix({
            offset: {
                top: 100
            }
        });
    }
</script>

    
        <script>
            
            [].forEach.call(document.querySelectorAll('.adsbygoogle'), function() {
                (adsbygoogle = window.adsbygoogle || []).push({});
            });
        </script>
    


    
 
 
 <script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-58415537-1', 'auto');


ga('require', 'eventTracker');
ga('require', 'outboundLinkTracker');
ga('require', 'urlChangeTracker');
ga('require', 'cleanUrlTracker');
ga('require', 'impressionTracker');
ga('require', 'maxScrollTracker');
ga('require', 'pageVisibilityTracker');


ga('send', 'pageview');
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<script async src="js/autotrack.js"></script>




    </body>
</html>
